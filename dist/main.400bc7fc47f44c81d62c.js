!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t);n(0);const o=new class{constructor(e="parsers/php/guzzle/?url="){r(this,"resetForm",(e=!0,t=!1)=>{const{rightIcon:n,rightIconItalic:r,iconColors:i,iconTypes:o,enableSearch:s,input:c}=this;for(const e in i)n.classList.remove(i[e]);for(const e in o)r.classList.remove(o[e]);e&&r.classList.add(o.check),t&&(c.value="",this.url=c.getAttribute("placeholder")),s()}),r(this,"updateRightIconColor",e=>{this.rightIcon.classList.add(this.iconColors[e])}),r(this,"updateRightIcon",e=>{this.rightIconItalic.classList.add(this.iconTypes[e])}),r(this,"formError",()=>{this.resetForm(!1),this.updateRightIconColor("red"),this.updateRightIcon("error"),this.disableSearch()}),r(this,"disableSearch",()=>{this.searchButton.disabled=!0}),r(this,"enableSearch",()=>{this.searchButton.disabled=!1,this.searchButton.classList.remove("is-loading")}),r(this,"validUrl",()=>{const{input:e,validTwopUrl:t,resetForm:n,updateRightIcon:r,updateRightIconColor:i,formError:o}=this;if(!e.value)return n(),void(this.url=e.getAttribute("placeholder"));try{const s=new URL(e.value);t(s)?(this.url=s,n(!1),r("check"),i("green")):o()}catch(e){o()}}),r(this,"submittedNotice",e=>{const t=document.createElement("p");t.id="stand-by",t.innerHTML=`1-page-i-fying <a href="${e}" target="_blank">${e}</a> - stand by...`,this.searchButton.classList.add("is-loading"),this.resultsDiv.appendChild(t)}),r(this,"doSearch",e=>{const{parser:t,disableSearch:n,resultsDiv:r,submittedNotice:o,enableSearch:s,resetForm:c}=this;n(),e.preventDefault(),r.innerHTML="",o(this.url);const a=encodeURIComponent(this.url),d=new EventSource(t+a);d.addEventListener("total-pages",(function(e){let t=parseInt(e.data);const n=document.createElement("div"),o=document.createElement("p"),s=document.createElement("p");s.innerHTML=`Page Count: ${t}`,o.id="counter",n.classList.add("content","is-large"),o.innerHTML=`<b>${t}</b> pages left to parse.`,document.querySelector("#stand-by").remove(),n.appendChild(s),n.appendChild(o),r.appendChild(n),window.i=setInterval(()=>{t>0&&document.querySelector("#counter b")?document.querySelector("#counter b").innerText=t--:(document.querySelector("#counter b").innerText="0",clearInterval(i))},150)})),d.addEventListener("parsing-page",(function(e){const t=window.totalPages-parseInt(e.data);setTimeout(()=>{document.querySelector("#counter b").innerText=t},120)})),d.addEventListener("pre-done",(function(e){clearInterval(window.i),delete window.i,r.innerHTML=""})),d.addEventListener("done",(function(e){d.close(),s()})),d.addEventListener("not-found",(function(e){document.querySelector("#stand-by").remove();const t=document.createElement("div");t.innerHTML=e.data,r.appendChild(t),d.close(),c()})),d.addEventListener("message",(function(e){const t=document.createElement("p");t.innerHTML=e.data,r.appendChild(t)})),d.addEventListener("error",(function(e){document.querySelector("#stand-by")&&document.querySelector("#stand-by").remove(),window.i&&(clearInterval(window.i),delete window.i);const t=document.createElement("div"),n=document.querySelector("input").value;t.classList.add("notification","is-danger"),t.innerHTML=`URL: <a target="_blank" href="${n}">${n}</a> could not be reached, is it valid?`,r.appendChild(t),console.error("EventSource failed:",e),d.close(),c(!0,!0)}))}),this.parser=e,this.iconColors={green:"has-text-success",yellow:"has-text-warning",red:"has-text-danger"},this.iconTypes={info:"fa-info-circle",check:"fa-check",warning:"fa-exclamation-triangle",error:"fa-ban"},this.input=document.querySelector("#input"),this.searchButton=document.querySelector("#search"),this.clearButton=document.querySelector("#clear"),this.rightIcon=document.querySelector(".is-right"),this.rightIconItalic=document.querySelector(".is-right i"),this.resultsDiv=document.querySelector("#results"),this.url=this.input.getAttribute("placeholder")}resizeClasses(){let e=document.querySelector("#button-toggle"),t=document.querySelector("#form-field"),n=document.querySelector("#has-icons");window.innerWidth<768?(document.querySelectorAll(".is-medium").forEach(e=>{e.classList.add("removed-medium"),e.classList.remove("is-medium")}),e.classList.remove("control"),e.classList.add("column"),t.classList.remove("has-addons","box"),n.classList.remove("has-icons-left")):(document.querySelectorAll(".removed-medium").forEach(e=>{e.classList.add("is-medium"),e.classList.remove("removed-medium")}),e.classList.remove("column"),e.classList.add("control"),t.classList.add("has-addons","box"),n.classList.add("has-icons-left"))}validTwopUrl(e){switch(e.host){case"brilliantbutcancelled.com":case"www.brilliantbutcancelled.com":if(e.pathname.startsWith("/show"))return!0;default:return!1}}};window.onload=o.resizeClasses,window.onresize=o.resizeClasses,o.searchButton.addEventListener("click",o.doSearch,event),o.input.addEventListener("input",o.validUrl),o.clearButton.addEventListener("click",(function(){o.resetForm(!0,!0)})),document.querySelector("#up").addEventListener("click",(function(){this.classList.add("is-hidden"),document.querySelector("#down").classList.remove("is-hidden"),document.querySelector("#intro").classList.add("is-hidden")})),document.querySelector("#down").addEventListener("click",(function(){this.classList.add("is-hidden"),document.querySelector("#up").classList.remove("is-hidden"),document.querySelector("#intro").classList.remove("is-hidden")}))}]);